---
layout: docu
---

<div id="header">
  <div id="toc" class="toc2">
    <div id="toctitle">Public Repositories</div>
    <ul class="sectlevel1">
      {% for repository in site.github.public_repositories %}
      <li><a href="{{ site.baseurl }}/{{ repository.name }}"> {{ repository.name | replace: '-', ' ' | replace: '_', ' ' }}</a></li>
      {% endfor %}
    </ul> 
  </div>
</div>


<h2>Directory listing {{ page.url | replace page.path, '' | replace '/', '' }}</h2>

<div class="post-content">
  {{ content }}
</div>

{% assign depth = page.path | split: '/' | size %}
{% assign pwd = page.path | replace: page.name, '' %}
pwd = {{ pwd }} <br/>

{% capture folders_list %}
  {% for file in site.static_files %}
    {{ file.path }}
    {% if forloop.last == false %}::{% endif%}
  {% endfor %}
{% endcapture %}
{% assign folders = folders_list | split: '::'| uniq | sort %}  
folders = {{ folders | array_to_sentence_string }} <br/>

{% capture top_folder_list %}
  {% for folder in folders %}
    {% assign path = folder | split: '/' %}
      {{ path[depth] }}
    {% if forloop.last == false %}::{% endif %}
  {% endfor %}
{% endcapture %}
{% assign top_folders = top_folder_list | strip_newlines | replace: ' ', '' | split: '::' | uniq | compact | sort %}  
top_folders = {{ folders | array_to_sentence_string }} <br/>

<table class="indexlist">
  <tbody>
    <tr><th style="width: 20px; overflow: hidden;"></th><th style="width: 30%; overflow: hidden;">Name</th><th style="width: 70%; overflow: hidden;">Description</th></tr>
  {% if depth != 1 %}
    <tr><td><a href=".."><i class="fa-solid fa-folder-open"></i></a></td><td><a href="..">Parent Directory</a></td><td></td></tr>
  {% endif %}

{% for folder in top_folders %}
  {% if folder != '' %}
     <tr><td><a href="{{ folder }}"><i class="fa-solid fa-folder"></i></a></td><td><a href="{{ folder }}">{{ folder }}</a></td><td><a href="{{ folder }}"></a></td></tr>
  {% endif %}
{% endfor %}

{% for file in site.static_files %}
  {% assign dif = file.path | replace: pwd, '' %}
      {% assign desc = page.descriptions | where:"name", file.name | first %}
      <tr><td><a href="{{ file.name }}"><i class="fa-solid fa-file"></i></a></td><td><a href="{{ file.name }}">{{ file.name }}</a></td><td><a href="{{ file.name }}">{{ desc.text }}</a></td></tr>
{% endfor %}

  </tbody>
</table>
